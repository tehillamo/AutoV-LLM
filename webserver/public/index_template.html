<!DOCTYPE html>
<html>
  <head>
    <title>Experiment</title>
    <script src="jspsych/dist/jspsych.js"></script>
    <script src="jspsych/dist/plugin-html-keyboard-response.js"></script>
    <script src="jspsych/dist/plugin-recording.js"></script>   
    <script src="src/index.js"></script>
    <link href="jspsych/dist/jspsych.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    index.html
  </body>

  <script>
    var jsPsych = initJsPsych({
      on_trial_start: function (trial) {
          onTrialStartRecording(trial);
      },
      on_trial_finish: function (trial) {
          onTrialFinishRecording(trial);
      },
      on_finish: function () {
          console.log(jsPsych.data)
          jsPsych.data.displayData();
          sendData(jsPsych.data.allData.trials);
      },
    });

  const trials = [
      {
          type: jsPsychSpeechRecording,
          start: true
      },
      {
          type: jsPsychHtmlKeyboardResponse,
          stimulus: 'Hello world 1!',
          prompt: 'Please press some key'
      },
      {
          type: jsPsychHtmlKeyboardResponse,
          stimulus: 'Hello world 2!'
      },
      {
          type: jsPsychHtmlKeyboardResponse,
          stimulus: 'Hello world 3!'
      },
      {
          type: jsPsychHtmlKeyboardResponse,
          stimulus: 'Hello world 4!'
      },
      {
          type: jsPsychHtmlKeyboardResponse,
          stimulus: 'Hello world 5!'
      },
      {
          type: jsPsychHtmlKeyboardResponse,
          stimulus: 'Hello world 6!'
      },
      {
          type: jsPsychSpeechRecording,
          start: false
      },
  ];


  jsPsych.run(trials);


  </script>
</html>
